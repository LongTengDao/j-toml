/*!@preserve@license
 * 模块名称：j-toml
 * 模块功能：龙腾道为汤小明语写的实现。从属于“简计划”。
   　　　　　An implementation of TOML written by LongTengDao. Belong to "Plan J".
 * 模块版本：1.22.0
 * 许可条款：LGPL-3.0
 * 所属作者：龙腾道 <LongTengDao@LongTengDao.com> (www.LongTengDao.com)
 * 问题反馈：https://GitHub.com/LongTengDao/j-toml/issues
 * 项目主页：https://GitHub.com/LongTengDao/j-toml/
 */
(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).TOML=t()})(this,(function(){"use strict";const e=Error,t=TypeError,n=Object.assign,i=void 0,r=Function.prototype.bind,s=RegExp.prototype.test,a=RegExp.prototype.exec,l=SyntaxError,o=RegExp,c=Object.freeze,u=Reflect.apply,f=Proxy,h=Object.create,d=Object.seal?Object.preventExtensions(Object.create(null)):null,p="undefined"==typeof Symbol?i:Symbol.toStringTag,g=Object.defineProperty,b=Array.isArray,y=1/0,w=String.fromCharCode,m=Array,x=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var O=T.call.bind(T),v=function(){return x.bind?x.call.bind(x):function(e,t){return x.call(e,t)}}(),I=Object.create;function S(e){var t=I(d);return v(e,"value")&&(t.value=e.value),v(e,"writable")&&(t.writable=e.writable),v(e,"get")&&(t.get=e.get),v(e,"set")&&(t.set=e.set),v(e,"enumerable")&&(t.enumerable=e.enumerable),v(e,"configurable")&&(t.configurable=e.configurable),t}const $=function(e,t){if(t||(t=e,e=h(d)),n)n(e,t);else for(var i in t)v(t,i)&&(e[i]=t[i]);if(e.default=e,p){var r=h(d);r.value="Module",g(e,p,r)}return"function"==typeof e&&e.prototype&&c(e.prototype),c(e)};var L=r?r.bind(s):function(e){return function(t){return s.call(e,t)}},F=r?r.bind(a):function(e){return function(t){return a.call(e,t)}};function k(e){var t=e.test=L(e),n=e.exec=F(e),i=t.source=n.source=e.source;return t.unicode=n.unicode=e.unicode,t.ignoreCase=n.ignoreCase=e.ignoreCase,t.multiline=n.multiline=i.indexOf("^")<0&&i.indexOf("$")<0?null:e.multiline,t.dotAll=n.dotAll=i.indexOf(".")<0?null:e.dotAll,e}var M=/[\n\t]+/g,U=/\\./g;function A(e){return"\\`"===e?"`":e}var B="".includes?function(e,t){return e.includes(t)}:function(e,t){return e.indexOf(t)>-1};function D(e){for(var n=this.U,i=this.I,r=this.M,s=this.S,a=e.raw,c=a[0].replace(M,""),u=1,f=arguments.length;u!==f;){var h=arguments[u];if("string"==typeof h)c+=h;else{var d=h.source;if("string"!=typeof d)throw t("source");if(h.unicode===n)throw l("unicode");if(h.ignoreCase===i)throw l("ignoreCase");if(h.multiline===r&&(B(d,"^")||B(d,"$")))throw l("multiline");if(h.dotAll===s&&B(d,"."))throw l("dotAll");c+=d}c+=a[u++].replace(M,"")}var p=o(n?c=c.replace(U,A):c,this.flags),g=p.test=L(p),b=p.exec=F(p);return g.source=b.source=c,g.unicode=b.unicode=!n,g.ignoreCase=b.ignoreCase=!i,g.multiline=b.multiline=B(c,"^")||B(c,"$")?!r:null,g.dotAll=b.dotAll=B(c,".")?!s:null,p}var j=r&&r.bind(D);function C(e){return{U:!B(e,"u"),I:!B(e,"i"),M:!B(e,"m"),S:!B(e,"s"),flags:e}}var _=C(""),N=f?new f(D,{apply:function(e,t,n){return u(e,_,n)},get:function(e,t){return j(C(t))},defineProperty:function(){return!1},preventExtensions:function(){return!1}}):function(){D.apply=D.apply;for(var e=function(){return D.apply(_,arguments)},t=63;t--;)!function(t){e[t.flags]=function(){return D.apply(t,arguments)}}(C((1&t?"":"d")+(2&t?"":"g")+(4&t?"":"i")+(8&t?"":"m")+(8&t?"":"s")+(16&t?"":"u")+(32&t?"":"y")));return c?c(e):e}(),E="$_"in o?function(){var e=/^/;return e.test=e.test,function(t){return e.test(""),t}}():function(e){return e};const P=[];let K="",R=P,W=-1,q=-1;const H=e=>{throw e},Y=/\r?\n/,J=(e,n)=>{if("string"!=typeof n)throw t("TOML.parse(,,,,sourcePath)");K=n,R=e.split(Y),W=R.length-1,q=-1};class Z{lineIndex=q;type;restColumn;constructor(e,t){return this.type=e,this.restColumn=t,this}must(){return q===W&&H(l(`${this.type} is not close until the end of the file`+z(", which started from ",this.lineIndex,R[this.lineIndex].length-this.restColumn+1))),R[++q]}nowrap(){H(e("TOML.parse(,,multilineStringJoiner) must be passed, while the source including multi-line string"+z(", which started from ",this.lineIndex,R[this.lineIndex].length-this.restColumn+1)))}}const z=(e,t=q,n=0)=>R===P?"":K?`\n    at (${K}:${t+1}:${n})`:`${e}line ${t+1}: ${R[t]}`,V=()=>{K="",R=P},G=RangeError,X=BigInt,Q=WeakMap,ee=WeakMap.prototype.get,te=WeakMap.prototype.set,ne=Number.isSafeInteger,ie=Reflect.ownKeys,re=WeakSet,se=WeakSet.prototype.has,ae=WeakSet.prototype.add,le=WeakSet.prototype.delete,oe=Object.keys,ce=Object.getOwnPropertySymbols,ue=function(){var e=Object.assign||function(e,t){var n,i,r;for(n=oe(t),i=0;i<n.length;++i)e[r=n[i]]=t[r];if(ce)for(n=ce(t),i=0;i<n.length;++i)O(t,r=n[i])&&([r]=t[r]);return e};function t(e){return delete e.prototype.constructor,c(e.prototype),e}var n=function(n){return n===i?this:"function"==typeof n?t(n):e(I(d),n)};return delete n.name,n.prototype=null,c(n),n}(),fe=Object.is,he=Object.defineProperties,de=Object.fromEntries,pe=Reflect.construct,ge=Reflect.defineProperty,be=Reflect.deleteProperty,ye=x.call.bind(x),we=()=>{const e=new Q;return e.has=e.has,e.get=e.get,e.set=e.set,e},me=we(),xe=we(),Te=we(),Oe=n(h(d),{defineProperty:(e,t,i)=>{if(ye(e,t))return ge(e,t,n(h(d),i));if(ge(e,t,n(h(d),i))){const n=me.get(e);return n[n.length]=t,!0}return!1},deleteProperty:(e,t)=>{if(be(e,t)){const n=me.get(e),i=n.indexOf(t);return i<0||--n.copyWithin(i,i+1).length,!0}return!1},ownKeys:e=>me.get(e),construct:(e,t,n)=>Ie(pe(e,t,n)),apply:(e,t,n)=>Ie(u(e,t,n))}),ve=(e,t)=>{me.set(e,t);const n=new f(e,Oe);return xe.set(n,e),n},Ie=e=>{if(xe.has(e))return e;let t=Te.get(e);return t||(t=ve(e,n([],ie(e))),Te.set(e,t),t)},Se=function(){function e(){throw t("Super constructor Null cannot be invoked with 'new'")}function i(){throw t("Super constructor Null cannot be invoked without 'new'")}const r=e=>(delete e.prototype.constructor,c(e.prototype),e);function s(t){return new.target?new.target===s?e():ve(this,[]):"function"==typeof t?r(t):i()}return s.prototype=null,g(s,"name",n(h(d),{value:"",configurable:!1})),c(s),s}(),$e=WeakMap.prototype.has,Le=WeakMap.prototype.delete,Fe=new Q,ke=new re,Me=Le.bind(Fe),Ue=le.bind(ke),Ae=$e.bind(Fe),Be=ee.bind(Fe),De=te.bind(Fe),je=se.bind(ke),Ce=ae.bind(ke),_e=new re,Ne=ae.bind(_e),Ee=se.bind(_e),Pe=new re,Ke=ae.bind(Pe),Re=le.bind(Pe),We=!0,qe=!1,He=new re,Ye=ae.bind(He),Je=se.bind(He),Ze=ue(class extends ue{constructor(e,t){return super(),Ne(this),e?t?De(this,!0):Ce(this):(t?Ye:Ke)(this),this}}),ze=ue(class extends Se{constructor(e,t){return super(),Ne(this),e?t?De(this,!0):Ce(this):(t?Ye:Ke)(this),this}}),Ve=/[ \t]/,Ge=(()=>N`
	^${Ve}+`)(),Xe=(()=>N.s`
	^
	(
		(?:\d\d\d\d-\d\d-\d\d \d)?
		[\w\-+.:]+
	)
	${Ve}*
	(.*)
	$`.exec)(),Qe=(()=>N.s`
	^
	'([^']*)'
	${Ve}*
	(.*)`.exec)(),et=(()=>N.s`
	^
	(.*?)
	'''('{0,2})
	${Ve}*
	(.*)`.exec)(),tt=(()=>N.s`
	^
	(.*?)
	'''()
	${Ve}*
	(.*)`.exec)();let nt=tt;const it=(()=>N.s`
	^
	.
	${Ve}*`)(),rt=/[^\x00-\x1F"#'()<>[\\\]`{}\x7F]+/,st=(()=>N.s`
	^
	${Ve}*
	=
	${Ve}*
	(?:
		<(${rt})>
		${Ve}*
	)?
	(.*)
	$`.exec)(),at=(()=>N.s`
	^
	<(${rt})>
	${Ve}*
	(.*)
	$`.exec)(),lt=(()=>N.s`
	^
	<(${rt})>
	${Ve}*
	(.*)
	$`.exec)(),ot=k(/(?:[^\\"]+|\\.|""?(?!")){1,10}/ys),ct=e=>{let t=ot.lastIndex=0;for(;ot.test(e);)t=ot.lastIndex;return e.slice(0,t)},ut=/[^\\\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|[\t ]*\n[\t\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,ft=/[^\\\x00-\x09\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]| *\n[\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,ht=/[^\\\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\]|\n[\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g,dt=/[^\\\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\/]|\n[\n ]*|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})/g;let pt=ut;const gt=e=>!e.replace(pt,""),bt=k(/(?:[^\\"\x00-\x08\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})){1,10}/y),yt=k(/(?:[^\\"\x00-\x09\x0B-\x1F\x7F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})){1,10}/y),wt=k(/(?:[^\\"\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})){1,10}/y),mt=k(/(?:[^\\"\x00-\x09\x0B-\x1F]+|\\(?:[btnfr"\\/]|u[\dA-Fa-f]{4}|U[\dA-Fa-f]{8})){1,10}/y);let xt=mt;const Tt=e=>{let t=xt.lastIndex=1;for(;xt.test(e);)t=xt.lastIndex;return t!==e.length&&'"'===e[t]||H(l("Bad basic string"+z(" at "))),e.slice(1,t)},Ot=(()=>k(/^[ \t]*\./).test)(),vt=/^[ \t]*\.[ \t]*/,It=(()=>k(/^[\w-]+/).exec)(),St=(()=>k(/^[^ \t#=[\]'".]+(?:[ \t]+[^ \t#=[\]'".]+)*/).exec)();let $t=St;const Lt=(()=>k(/^'[^'\x00-\x08\x0B-\x1F\x7F]*'/).exec)(),Ft=(()=>k(/^'[^'\x00-\x08\x0B-\x1F]*'/).exec)();let kt=Ft,Mt=!0;const Ut=(e,t)=>{const n="["===e[1];n?(Mt||H(l("Array of Tables is not allowed before TOML v0.2"+z(", which at "))),e=e.slice(2)):e=e.slice(1),e=e.replace(Ge,"");const{leadingKeys:i,finalKey:r}=({lineRest:e}=t(e));let s;return(e=e.replace(Ge,""))&&"]"===e[0]||H(l("Table header is not closed"+z(", which is found at "))),(e.length>1?"]"===e[1]===n:!n)||H(l("Square brackets of Table definition statement not match"+z(" at "))),(e=e.slice(n?2:1).replace(Ge,""))&&"<"===e[0]?({1:s,2:e}=lt(e)??H(l("Bad tag"+z(" at ")))):s="",{leadingKeys:i,finalKey:r,asArrayItem:n,tag:s,lineRest:e}},At=(()=>k(/[\x00-\x08\x0B-\x1F\x7F]/).test)(),Bt=(()=>k(/[\x00-\x08\x0B-\x1F]/).test)();let Dt=At;const jt=(()=>N`
	(?:
		0
		(?:
			b[01][_01]*
		|
			o[0-7][_0-7]*
		|
			x[\dA-Fa-f][_\dA-Fa-f]*
		|
			(?:\.\d[_\d]*)?(?:[Ee]-?\d[_\d]*)?
		)
	|
		[1-9][_\d]*
		(?:\.\d[_\d]*)?(?:[Ee]-?\d[_\d]*)?
	|
		inf
	|
		nan
	)
`)(),Ct=(()=>N`
	^(?:
		-?${jt}
		(?:-${jt})*
	|
		true
	|
		false
	)$
`.test)(),_t=(()=>N`_(?![\dA-Fa-f])`.test)(),Nt=e=>Ct(e)&&!_t(e);let Et,Pt,Kt,Rt,Wt,qt,Ht,Yt,Jt,Zt,zt,Vt,Gt,Xt=null,Qt=!0,en=0n,tn=0n;const nn=new Q,rn=ee.bind(nn),sn=te.bind(nn),an=()=>{const e=n=>{const i=rn(n);return i?i===e||H(t("Types in Array must be same"+z(". Check "))):sn(n,e),n};return e},ln={asNulls:an(),asStrings:an(),asTables:an(),asArrays:an(),asBooleans:an(),asFloats:an(),asIntegers:an(),asOffsetDateTimes:an(),asLocalDateTimes:an(),asLocalDates:an(),asLocalTimes:an()},on=e=>e;let cn,un,fn,hn,dn,pn,gn,bn,yn,wn,mn,xn=null,Tn=[],On=0;const vn=(e,t,n,i)=>{const r=h(d);r.tag=e,n&&(r.table=n,r.key=i),t&&(r.array=t,r.index=t.length),Tn[On++]=r},In=()=>{throw H(l("xOptions.tag is not enabled, but found tag syntax"+z(" at ")))};let Sn=In;const $n=Symbol("previous"),Ln=e=>{let t=e,n=t.next();if(!n.done)for(n.value[$n]=t,n=(t=n.value).next();;)if(n.done){if(t===e)break;t=t[$n],n=t.next(n.value)}else n.value[$n]=t,n=(t=n.value).next();return n.value},Fn=new re,kn=ae.bind(Fn),Mn=se.bind(Fn),Un=new re,An=ae.bind(Un),Bn=se.bind(Un),Dn=e=>{const t=[];return kn(t),e&&An(t),t},jn=Date,Cn=Date.parse,_n=Object.preventExtensions,Nn=Object.getOwnPropertyDescriptors,En=function(e,t){for(var n=h(d),i=oe(t),r=i.length,s=0;s<r;++s){var a=i[s];n[a]=S(t[a])}if(ce){var l=ce(t);for(r=l.length,s=0;s<r;++s){var o=l[s];O(t,o)&&(n[o]=S(t[o]))}}return he(e,n)},Pn=e=>(c(c(e).prototype),e),Kn=/(?:0[1-9]|1\d|2\d)/,Rn=/(?:0[1-9]|[12]\d|30)/,Wn=/(?:0[1-9]|[12]\d|3[01])/,qn=/(?:[01]\d|2[0-3])/,Hn=/[0-5]\d/,Yn=(()=>N`
	\d\d\d\d-
	(?:
		0
		(?:
			[13578]-${Wn}
			|
			[469]-${Rn}
			|
			2-${Kn}
		)
		|
		1
		(?:
			[02]-${Wn}
			|
			1-${Rn}
		)
	)
`)(),Jn=(()=>N`
	${qn}:${Hn}:${Hn}
`)(),Zn=/(?:Z|[+-]\d\d:\d\d)$/,zn=(()=>k(/(([+-])\d\d):(\d\d)$/).exec)(),Vn=(()=>N`
	^
	${Yn}
	[T ]
	${Jn}
	(?:\.\d{1,3}(\d*?)0*)?
	(?:Z|[+-]${qn}:${Hn})
	$`.exec)(),Gn=(()=>N`
	^
	${Yn}
	[T ]
	${Jn}
	()
	Z
	$`.exec)(),Xn=(()=>N`
	^
	${Yn}
	[T ]
	${Jn}
	(?:\.\d+)?
	$`.test)(),Qn=(()=>N`
	^
	${Yn}
	$`.test)(),ei=(()=>N`
	^
	${Jn}
	(?:\.\d+)?
	$`.test)(),ti=/\.?0+$/,ni=/[-T:.]/g,ii=/(^\d+\.\d*[1-9])(0+$)|(\.0+$)/gm,ri=(()=>{const e=function(){return this},t=ue(null);{const e=ue(null);for(const n of ie(jn.prototype))"constructor"===n||"toJSON"===n||(t[n]=e)}return e.prototype=_n(h(jn.prototype,t)),c(e)})(),si=e=>e.replace(ii,"$1").replace(ni,""),ai=e=>"02-29"!==e.slice(5,10)||+e.slice(0,4)%4==0&&"00"!==e.slice(2,4),li=En(new jn(0),Nn(jn.prototype)),oi=Symbol("OffsetDateTime_ISOString"),ci=Symbol("OffsetDateTime_value"),ui=(e,t=0)=>(li.setTime(+e[ci]+t),li),fi=Pn(class extends ri{[oi];[ci];valueOf(){return this[ci]}toISOString(){return this[oi]}constructor(e){const{1:t}=ai(e)&&(Pt?Gn:Vn)(e)||H(l(`Invalid Offset Date-Time ${e}`+z(" at ")));return super(),this[oi]=e.replace(" ","T"),this[ci]=(""+Cn(this[oi])).padStart(15,"0")+(t?"."+t:""),this}getUTCFullYear(){return ui(this).getUTCFullYear()}getUTCMonth(){return ui(this).getUTCMonth()}getUTCDate(){return ui(this).getUTCDate()}getUTCHours(){return ui(this).getUTCHours()}getUTCMinutes(){return ui(this).getUTCMinutes()}getUTCSeconds(){return ui(this).getUTCSeconds()}getUTCMilliseconds(){return ui(this).getUTCMilliseconds()}getUTCDay(){return ui(this).getUTCDay()}getTimezoneOffset(){const e=zn(this[oi]);return e?60*+e[1]+ +(e[2]+e[3]):0}getTime(){return+this[ci].slice(0,15)}}),hi=Symbol("LocalDateTime_ISOString"),di=Symbol("LocalDateTime_value"),pi=(e,t,n)=>+e[hi].slice(t,n),gi=(e,t,n,i)=>{e[di]=si(e[hi]=e[hi].slice(0,t)+(""+i).padStart(n-t,"0")+e[hi].slice(n))},bi=Pn(class extends ri{[hi];[di];valueOf(){return this[di]}toISOString(){return this[hi]}constructor(e){return Xn(e)&&ai(e)||H(l(`Invalid Local Date-Time ${e}`+z(" at "))),super(),this[di]=si(this[hi]=e.replace(" ","T")),this}getFullYear(){return pi(this,0,4)}setFullYear(e){gi(this,0,4,e)}getMonth(){return pi(this,5,7)-1}setMonth(e){gi(this,5,7,e+1)}getDate(){return pi(this,8,10)}setDate(e){gi(this,8,10,e)}getHours(){return pi(this,11,13)}setHours(e){gi(this,11,13,e)}getMinutes(){return pi(this,14,16)}setMinutes(e){gi(this,14,16,e)}getSeconds(){return pi(this,17,19)}setSeconds(e){gi(this,17,19,e)}getMilliseconds(){return+this[di].slice(14,17).padEnd(3,"0")}setMilliseconds(e){this[di]=si(this[hi]=this[hi].slice(0,19)+(e?("."+(""+e).padStart(3,"0")).replace(ti,""):""))}}),yi=Symbol("LocalDate_ISOString"),wi=Symbol("LocalDate_value"),mi=(e,t,n)=>+e[yi].slice(t,n),xi=(e,t,n,i)=>e[wi]=si(e[yi]=e[yi].slice(0,t)+(""+i).padStart(n-t,"0")+e[yi].slice(n)),Ti=Pn(class extends ri{[yi];[wi];valueOf(){return this[wi]}toISOString(){return this[yi]}constructor(e){return Qn(e)&&ai(e)||H(l(`Invalid Local Date ${e}`+z(" at "))),super(),this[wi]=si(this[yi]=e),this}getFullYear(){return mi(this,0,4)}setFullYear(e){xi(this,0,4,e)}getMonth(){return mi(this,5,7)-1}setMonth(e){xi(this,5,7,e+1)}getDate(){return mi(this,8,10)}setDate(e){xi(this,8,10,e)}}),Oi=Symbol("LocalTime_ISOString"),vi=Symbol("LocalTime_value"),Ii=(e,t,n)=>+e[Oi].slice(t,n),Si=(e,t,n,i)=>e[vi]=si(e[Oi]=e[Oi].slice(0,t)+(""+i).padStart(2,"0")+e[Oi].slice(n)),$i=Pn(class extends ri{[Oi];[vi];valueOf(){return this[vi]}toISOString(){return this[Oi]}constructor(e){return ei(e)||H(l(`Invalid Local Time ${e}`+z(" at "))),super(),this[vi]=si(this[Oi]=e),this}getHours(){return Ii(this,0,2)}setHours(e){Si(this,0,2,e)}getMinutes(){return Ii(this,3,5)}setMinutes(e){Si(this,3,5,e)}getSeconds(){return Ii(this,6,8)}setSeconds(e){Si(this,6,8,e)}getMilliseconds(){return+this[vi].slice(6,9).padEnd(3,"0")}setMilliseconds(e){this[vi]=si(this[Oi]=this[Oi].slice(0,8)+(e?("."+(""+e).padStart(3,"0")).replace(ti,""):""))}}),Li=parseInt,Fi=String.fromCodePoint,ki=/[^\\]+|\\(?:[\\"btnfr/]|u.{4}|U.{8})/gs,Mi=/[^\n\\]+|\n|\\(?:[\t ]*\n[\t\n ]*|[\\"btnfr/]|u.{4}|U.{8})/gs,Ui=e=>{if(!e)return"";const t=e.match(ki),{length:n}=t;let i=0;do{const e=t[i];if("\\"===e[0])switch(e[1]){case"\\":t[i]="\\";break;case'"':t[i]='"';break;case"b":t[i]="\b";break;case"t":t[i]="\t";break;case"n":t[i]="\n";break;case"f":t[i]="\f";break;case"r":t[i]="\r";break;case"u":const n=Li(e.slice(2),16);55295<n&&n<57344&&H(G(`Invalid Unicode Scalar ${e}`+z(" at "))),t[i]=w(n);break;case"U":const r=Li(e.slice(2),16);(55295<r&&r<57344||1114111<r)&&H(G(`Invalid Unicode Scalar ${e}`+z(" at "))),t[i]=Fi(r);break;case"/":t[i]="/"}}while(++i!==n);return t.join("")},Ai=(e,t,n)=>{if(!e)return"";const i=e.match(Mi),{length:r}=i;let s=0;do{const e=i[s];if("\n"===e)++n,i[s]=t;else if("\\"===e[0])switch(e[1]){case"\n":case" ":case"\t":for(let i=0;i=e.indexOf("\n",i)+1;)++n;i[s]="";break;case"\\":i[s]="\\";break;case'"':i[s]='"';break;case"b":i[s]="\b";break;case"t":i[s]="\t";break;case"n":i[s]="\n";break;case"f":i[s]="\f";break;case"r":i[s]="\r";break;case"u":const t=Li(e.slice(2),16);55295<t&&t<57344&&H(G(`Invalid Unicode Scalar ${e}`+z(" at ",q+n))),i[s]=w(t);break;case"U":const r=Li(e.slice(2),16);(55295<r&&r<57344||1114111<r)&&H(G(`Invalid Unicode Scalar ${e}`+z(" at ",q+n))),i[s]=Fi(r);break;case"/":i[s]="/"}}while(++s!==r);return i.join("")},Bi=/[-+]?(?:0|[1-9][_\d]*)/,Di=(()=>N`_(?!\d)`.test)(),ji=(()=>N`^${Bi}$`.test)(),Ci=(()=>k(/^0(?:x[\dA-Fa-f][_\dA-Fa-f]*|o[0-7][_0-7]*|b[01][_01]*)$/).test)(),_i=(()=>N`_(?![\dA-Fa-f])`.test)(),Ni=/_|^[-+]/g,Ei=e=>(ji(e)||Ci(e))&&!_i(e),Pi=e=>{Ei(e)||H(l(`Invalid Integer ${e}`+z(" at ")));let t=X(e.replace(Ni,""));return"-"===e[0]&&(t=-t),Jt||-9223372036854775808n<=t&&t<=9223372036854775807n||H(G(`Integer expect 64 bit range (-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807), not includes ${e}`+z(" meet at "))),t},Ki=e=>{if(!0===Qt)return Pi(e);if(!1===Qt)return(e=>{Ei(e)||H(l(`Invalid Integer ${e}`+z(" at ")));const t="-"===e[0]?-e.replace(Ni,""):+e.replace(Ni,"");return ne(t)||H(G(`Integer did not use BitInt must fit Number.isSafeInteger, not includes ${e}`+z(" meet at "))),t})(e);const t=Pi(e);return en<=t&&t<=tn?+(t+""):t},Ri=isFinite,Wi=(()=>N`
	^
	${Bi}
	(?:
		\.\d[_\d]*
		(?:[eE][-+]?\d[_\d]*)?
	|
		[eE][-+]?\d[_\d]*
	)
	$`.test)(),qi=/_/g,Hi=(()=>k(/^[-+]?0(?:\.[0_]+)?(?:[eE][-+]?0+)?$/).test)(),Yi=e=>{Wi(e)&&!Di(e)||H(l(`Invalid Float ${e}`+z(" at ")));const t=+e.replace(qi,"");return qt&&(Ri(t)||H(G(`Float has been as big as inf, like ${e}`+z(" at "))),t||Hi(e)||H(G(`Float has been as little as ${"-"===e[0]?"-":""}0, like ${e}`+z(" at ")))),t},Ji=(t,n)=>{const{length:i}=n;let r=0;for(;r<i;){const s=n[r++];if(!(s in t)){for(t=t[s]=new Yt(qe);r<i;)t=t[n[r++]]=new Yt(qe);return t}Ee(t=t[s])?Ae(t)&&H(e("Trying to define Table under Inline Table"+z(" at "))):Mn(t)?(Bn(t)&&H(e("Trying to append value to Static Array"+z(" at "))),t=t[t.length-1]):H(e("Trying to define Table under non-Table value"+z(" at ")))}return t},Zi=(t,n,i,r)=>{let s;if(i){let i;n in t?Mn(i=t[n])&&!Bn(i)||H(e("Trying to push Table to non-ArrayOfTables value"+z(" at "))):i=t[n]=Dn(!1),r&&Sn(r,i,t,n),i[i.length]=s=new Yt(We)}else n in t?(s=t[n],(e=>!!Re(e)&&(Ce(e),!0))(s)||H(e("Duplicate Table definition"+z(" at "))),Je(s)&&H(e("A table defined implicitly via key/value pair can not be accessed to via []"+z(", which at ")))):t[n]=s=new Yt(We),r&&Sn(r,null,t,n);return s},zi=(t,n)=>{const{length:i}=n;let r=0;for(;r<i;){const s=n[r++];if(!(s in t)){for(t=t[s]=new Yt(qe,!0);r<i;)t=t[n[r++]]=new Yt(qe,!0);return t}Ee(t=t[s])||H(e("Trying to assign property through non-Table value"+z(" at "))),Ae(t)&&H(e("Trying to assign property through static Inline Table"+z(" at "))),Je(t)||H(e("A table defined implicitly via [] can not be accessed to via key/value pair"+z(", which at ")))}return t},Vi=e=>(Dt(e)&&H(l("Control characters other than Tab are not permitted in a Literal String"+z(", which was found at "))),e),Gi=(e,t,n)=>{if("'"!==n[1]||"'"!==n[2]){const i=Qe(n)??H(l("Bad literal string"+z(" at ")));return e[t]=Vi(i[1]),i[2]}n=n.slice(3);const i=nt(n);if(i)return e[t]=Vi(i[1])+i[2],i[3];const r=new Z("Multi-line Literal String",n.length+3);if(!n){n=r.must();const i=nt(n);if(i)return e[t]=Vi(i[1])+i[2],i[3]}Xt??r.nowrap();for(const s=[Vi(n)];;){const n=r.must(),i=nt(n);if(i)return s[s.length]=Vi(i[1])+i[2],e[t]=s.join(Xt),i[3];s[s.length]=Vi(n)}},Xi=(e,t,n)=>{if('"'!==n[1]||'"'!==n[2]){const i=Tt(n);return e[t]=Ui(i),n.slice(2+i.length).replace(Ge,"")}n=n.slice(3);const i=ct(n);let{length:r}=i;if(n.startsWith('"""',r))return gt(i)||H(l("Bad multi-line basic string"+z(" at "))),r+=3,e[t]=Ui(i)+(Et&&'"'===n[r]?'"'===n[++r]?(++r,'""'):'"':""),n.slice(r).replace(Ge,"");const s=new Z("Multi-line Basic String",n.length+3),a=n?0:1;if(a){n=s.must();const i=ct(n);let{length:r}=i;if(n.startsWith('"""',r))return gt(i)||H(l("Bad multi-line basic string"+z(" at "))),r+=3,e[t]=Ai(i,Xt,a)+(Et&&'"'===n[r]?'"'===n[++r]?(++r,'""'):'"':""),n.slice(r).replace(Ge,"")}Xt??s.nowrap(),gt(n+="\n")||H(l("Bad multi-line basic string"+z(" at ")));for(const o=[n];;){let n=s.must();const i=ct(n);let{length:r}=i;if(n.startsWith('"""',r))return gt(i)||H(l("Bad multi-line basic string"+z(" at "))),r+=3,e[t]=Ai(o.join("")+i,Xt,a)+(Et&&'"'===n[r]?'"'===n[++r]?(++r,'""'):'"':""),n.slice(r).replace(Ge,"");gt(n+="\n")||H(l("Bad multi-line basic string"+z(" at "))),o[o.length]=n}},Qi=Symbol,er=ue(null),tr=e=>er[e]??(e=>{const t=Qi(e);return er[t]=e,er[e]=t})(e),nr=/\r?\n/g,ir=(e,n)=>{if(n in er&&er[n]in e){const i=e[er[n]];if("string"==typeof i)return" #"+i.replace(nr,"");throw t(`the value of commentKey must be "string" type, while "${null===i?"null":typeof i}" is found`)}return""},rr=(()=>k(Zn).test)(),sr=e=>{let t=e;const n=[];let i=-1;for(;;){if(t||H(l("Empty bare key"+z(" at "))),'"'===t[0]){const e=Tt(t);t=t.slice(2+e.length),n[++i]=Ui(e)}else{const e="'"===t[0],r=((e?kt:$t)(t)??H(l(`Bad ${e?"literal string":"bare"} key`+z(" at "))))[0];t=t.slice(r.length),n[++i]=e?r.slice(1,-1):r}if(!Ot(t))break;t=t.replace(vt,"")}if(Gt){const n=e.slice(0,-t.length);(Nt(n)||Zt&&"null"===n)&&H(l("Bad bare key disabled by xOptions.string"+z(" at ")))}if(Wt){let e=i;do{n[e]||H(l("Empty key is not allowed before TOML v0.5"+z(", which at ")))}while(e--)}const r=n[i];return n.length=i,{leadingKeys:n,finalKey:r,lineRest:t}},ar=(e,t)=>{if("<"===t[0]){const{1:n}=({2:t}=at(t)??H(l("Bad tag "+z(" at "))));switch(Sn(n,e,null),t&&t[0]){case",":case"]":case"":case"#":return e[e.length]=i,t}}switch(t[0]){case"'":return Gi(un(e),e.length,t);case'"':return Xi(un(e),e.length,t);case"{":return Kt||H(l("Inline Table is not allowed before TOML v0.4"+z(", which at "))),or(fn(e),e.length,t);case"[":return lr(hn(e),e.length,t)}const{1:n}=({2:t}=Xe(t)??H(l("Bad atom value"+z(" at "))));if(Ht){if("inf"===n||"+inf"===n)return pn(e)[e.length]=y,t;if("-inf"===n)return pn(e)[e.length]=-1/0,t;if("nan"===n||"+nan"===n||"-nan"===n)return pn(e)[e.length]=NaN,t}return n.includes(":")?(n.includes("-")?rr(n)?bn(e)[e.length]=new fi(n):(Rt||H(l("Local Date-Time is not allowed before TOML v0.5"+z(", which at "))),yn(e)[e.length]=new bi(n)):(Rt||H(l("Local Time is not allowed before TOML v0.5"+z(", which at "))),mn(e)[e.length]=new $i(n)),t):n.indexOf("-")!==n.lastIndexOf("-")&&"-"!==n[0]?(Rt||H(l("Local Date is not allowed before TOML v0.5"+z(", which at "))),wn(e)[e.length]=new Ti(n),t):("true"===n?dn(e)[e.length]=!0:"false"===n?dn(e)[e.length]=!1:n.includes(".")||(n.includes("e")||n.includes("E"))&&!n.startsWith("0x")?pn(e)[e.length]=Yi(n):Zt&&"null"===n?cn(e)[e.length]=null:gn(e)[e.length]=Ki(n),t)},lr=function*(e,t,n){const i=e[t]=Dn(!0),r=new Z("Static Array",n.length);n=n.replace(it,"");let s=!0;for(;!n||"#"===n[0];)s=!1,n=r.must().replace(Ge,"");if("]"===n[0])return s&&De(i,!0),n.replace(it,"");for(;;){const e=ar(i,n);for(n="string"==typeof e?e:yield e;!n||"#"===n[0];)s=!1,n=r.must().replace(Ge,"");if(","===n[0]){for(n=n.replace(it,"");!n||"#"===n[0];)s=!1,n=r.must().replace(Ge,"");if("]"===n[0])break}else{if("]"===n[0])break;H(l("Unexpect character in static array item value"+z(", which is found at ")))}}return s&&De(i,!0),n.replace(it,"")},or=function*(e,t,n){const i=e[t]=new Yt(We,!0);if(zt){const e=new Z("Inline Table",n.length);n=n.replace(it,"");let t=!0;for(;;){for(;!n||"#"===n[0];)t=!1,n=e.must().replace(Ge,"");if("}"===n[0])break;const r=cr(i,n),s=ur(r);if(n="string"==typeof s?s:yield s){if("#"===n[0]){Vt&&(r.table[tr(r.finalKey)]=n.slice(1)),t=!1;do{n=e.must().replace(Ge,"")}while(!n||"#"===n[0])}}else{t=!1;do{n=e.must().replace(Ge,"")}while(!n||"#"===n[0])}","===n[0]&&(n=n.replace(it,""))}t||De(i,!1)}else if("}"!==(n=n.replace(it,"")||H(l("Inline Table is intended to appear on a single line"+z(", which broken at "))))[0])for(;;){"#"===n[0]&&H(l("Inline Table is intended to appear on a single line"+z(", which broken at ")));const e=ur(cr(i,n));if("}"===(n=("string"==typeof e?e:yield e)||H(l("Inline Table is intended to appear on a single line"+z(", which broken at "))))[0])break;","===n[0]&&"}"===(n=n.replace(it,"")||H(l("Inline Table is intended to appear on a single line"+z(", which broken at "))))[0]&&H(l("The last property of an Inline Table can not have a trailing comma"+z(", which was found at ")))}return n.replace(it,"")},cr=(e,t)=>{const{leadingKeys:n,finalKey:i,tag:r}=({lineRest:t}=(({leadingKeys:e,finalKey:t,lineRest:n})=>{const{1:i=""}=({2:n}=st(n)??H(l("Keys must equal something"+z(", but missing at "))));return i||n&&"#"!==n[0]||H(l("Value can not be missing after euqal sign"+z(", which is found at "))),{leadingKeys:e,finalKey:t,tag:i,lineRest:n}})(sr(t)));return{table:zi(e,n),finalKey:i,tag:r,lineRest:t}},ur=({finalKey:t,tag:n,lineRest:r,table:s})=>{if(t in s&&H(e("Duplicate property definition"+z(" at "))),n)switch(Sn(n,null,s,t),r&&r[0]){case",":case"}":case"":case"#":return s[t]=i,r}switch(r&&r[0]){case"'":return Gi(s,t,r);case'"':return Xi(s,t,r);case"{":return Kt||H(l("Inline Table is not allowed before TOML v0.4"+z(", which at "))),or(s,t,r);case"[":return lr(s,t,r)}const{1:a}=({2:r}=Xe(r)??H(l("Bad atom value"+z(" at "))));if(Ht){if("inf"===a||"+inf"===a)return s[t]=y,r;if("-inf"===a)return s[t]=-1/0,r;if("nan"===a||"+nan"===a||"-nan"===a)return s[t]=NaN,r}return a.includes(":")?(a.includes("-")?rr(a)?s[t]=new fi(a):(Rt||H(l("Local Date-Time is not allowed before TOML v0.5"+z(", which at "))),s[t]=new bi(a)):(Rt||H(l("Local Time is not allowed before TOML v0.5"+z(", which at "))),s[t]=new $i(a)),r):a.indexOf("-")!==a.lastIndexOf("-")&&"-"!==a[0]?(Rt||H(l("Local Date is not allowed before TOML v0.5"+z(", which at "))),s[t]=new Ti(a),r):(s[t]="true"===a||"false"!==a&&(a.includes(".")||(a.includes("e")||a.includes("E"))&&!a.startsWith("0x")?Yi(a):Zt&&"null"===a?null:Ki(a)),r)},fr=Uint8Array,hr="undefined"==typeof Buffer?i:Buffer,dr=e=>"byteLength"in e,pr="A TOML doc must be a (ful-scalar) valid UTF-8 file, without any unknown code point.",gr=hr?(({isBuffer:t,[Symbol.species]:n,byteLength:i,allocUnsafe:r})=>s=>{if(!s.byteLength)return"";const a=t(s)?s:"length"in s?new n(s.buffer,s.byteOffset,s.length):new n(s),l=a.toString();if(l.includes("�")){const t=i(l);if(t!==a.length)throw e(pr);const n=r(t);if(n.utf8Write(l,0,t),!n.equals(a))throw e(pr)}return"\ufeff"===l[0]?l.slice(1):l})(hr):t=>{if(!t.byteLength)return"";const n="length"in t?t:new fr(t),{length:i}=n,r=i-1,s=r-1,a=s-1,l=[];let o=0,c=0;do{let t=n[c];if(t<192){if(t<128){l[o++]=w(t),c+=1;continue}}else if(t<224){if(c<r){const e=n[c+1];if(128==(192&e)&&(t=(31&t)<<6|63&e,127<t)){l[o++]=w(t),c+=2;continue}}}else if(t<240){if(c<s){const e=n[c+1],i=n[c+2];if(128==(192&e)&&128==(192&i)&&(t=(15&t)<<12|(63&e)<<6|63&i,(t<55296?2047:57343)<t)){l[o++]=w(t),c+=3;continue}}}else if(c<a){const e=n[c+1],i=n[c+2],r=n[c+3];if(128==(192&e)&&128==(192&i)&&128==(192&r)&&(t=(15&t)<<18|(63&e)<<12|(63&i)<<6|63&r,65535<t&&t<1114112)){l[o++]=Fi(t),c+=4;continue}}throw e(pr)}while(c!==i);const u=l.join("");return"\ufeff"===u[0]?u.slice(1):u},br=(()=>k(/[\uD800-\uDFFF]/u).test)();let yr=!1;const wr=(n,r,s,a,o)=>{if(yr)throw e("parse during parsing.");let c,u;yr=!0;try{let f="";if("object"==typeof n&&n)if(dr(n))n=gr(n);else{if(f=n.path,"string"!=typeof f)throw t("TOML.parse(source.path)");const{data:e,require:r=("function"==typeof require?require:i)}=n;if(r){const s=r.resolve?.paths?.("")?.[0]?.replace(/node_modules$/,"");if(s&&(f=r("path").resolve(s,f),"string"!=typeof f))throw t("TOML.parse(source.require('path').resolve)");if(e===i){const e=r("fs").readFileSync(f);if("object"!=typeof e||!e||!dr(e))throw t("TOML.parse(source.require('fs').readFileSync)");n=gr(e)}else if("string"==typeof e)n=e;else{if("object"!=typeof e||!e||!dr(e))throw t("TOML.parse(source.data)");n=gr(e)}}else{if(e===i)throw t("TOML.parse(source.data|source.require)");if("string"==typeof e)n=e;else{if("object"!=typeof e||!e||!dr(e))throw t("TOML.parse(source.data)");n=gr(e)}}}else if("string"!=typeof n)throw t("TOML.parse(source)");try{if(br(n))throw e("A TOML doc must be a (ful-scalar) valid UTF-8 file, without any uncoupled UCS-4 character code.");if("object"==typeof s&&s){if(a!==i||o!==i)throw t("options mode ? args mode");({joiner:s,bigint:a,x:o}=s)}try{((e,n,r,s)=>{let a;switch(e){case 1:a=Et=Rt=Ht=Kt=!0,Pt=Wt=!1;break;case.5:Rt=Ht=Kt=!0,a=Et=Pt=Wt=!1;break;case.4:Wt=Kt=!0,a=Et=Pt=Rt=Ht=!1;break;case.3:Wt=!0,a=Et=Pt=Rt=Ht=Kt=!1;break;case.2:case.1:Pt=Wt=!0,a=Et=Rt=Ht=Kt=!1;break;default:throw G("TOML.parse(,specificationVersion)")}if((e=>{switch(e){case 1:nt=et,kt=Lt,Dt=At,pt=ut,xt=bt,$t=It,Mt=!0;break;case.5:nt=tt,kt=Lt,Dt=At,pt=ft,xt=yt,$t=It,Mt=!0;break;case.4:nt=tt,kt=Ft,Dt=Bt,pt=ht,xt=wt,$t=It,Mt=!0;break;default:nt=tt,kt=Ft,Dt=Bt,pt=dt,xt=mt,$t=St,Mt=!1}})(e),"string"==typeof n)Xt=n;else{if(n!==i)throw t("TOML.parse(,,multilineStringJoiner)");Xt=null}if(r===i||!0===r)Qt=!0;else if(!1===r)Qt=!1;else{if("number"!=typeof r)throw t("TOML.parse(,,,useBigInt)");if(!ne(r))throw G("TOML.parse(,,,useBigInt)");Qt=null,r>=0?en=-(tn=X(r)):tn=-(en=X(r))-1n}if(null==s||!1===s)Yt=Ze,qt=Jt=Zt=zt=!1,Sn=In;else if(!0===s)Yt=ze,Jt=qt=Zt=zt=!0,Sn=In;else if("function"==typeof s){if(Yt=ze,Jt=qt=Zt=zt=!0,!a)throw t("TOML.parse(,,,,tag) needs at least TOML 1.0 to support mixed type array");xn=s,Sn=vn}else{const{order:e,longer:n,exact:i,null:r,multi:l,comment:o,string:c,tag:u,...f}=s;if(ie(f).length)throw t("TOML.parse(,,,,xOptions)");if(Yt=e?ze:Ze,Jt=!!n,qt=!!i,Zt=!!r,zt=!!l,Vt=!!o,Gt=!!c,u){if("function"!=typeof u)throw t("TOML.parse(,,,,xOptions.tag)");if(!a)throw t("TOML.parse(,,,,xOptions) xOptions.tag needs at least TOML 1.0 to support mixed type array");xn=u,Sn=vn}else Sn=In}a?cn=un=fn=hn=dn=pn=gn=bn=yn=wn=mn=on:({asNulls:cn,asStrings:un,asTables:fn,asArrays:hn,asBooleans:dn,asFloats:pn,asIntegers:gn,asOffsetDateTimes:bn,asLocalDateTimes:yn,asLocalDates:wn,asLocalTimes:mn}=ln)})(r,s,a,o),J(n,f);try{n&&"\ufeff"===n[0]&&H(t("TOML content (string) should not start with BOM (U+FEFF)"+z(" at "))),c=(()=>{const e=new Yt;let t=e;for(;q!==W;){const n=R[++q].replace(Ge,"");if(n)if("["===n[0]){const{leadingKeys:i,finalKey:r,asArrayItem:s,tag:a,lineRest:o}=Ut(n,sr),c=Ji(e,i);o&&("#"===o[0]?Vt&&!s&&(c[tr(r)]=o.slice(1)):H(l("Unexpect charachtor after table header"+z(" at ")))),t=Zi(c,r,s,a)}else if("#"===n[0])Dt(n)&&H(l("Control characters other than Tab are not permitted in comments"+z(", which was found at ")));else{const e=cr(t,n);let i=ur(e);"string"==typeof i||(i=Ln(i)),i&&("#"===i[0]?Vt&&(e.table[tr(e.finalKey)]=i.slice(1)):H(l("Unexpect charachtor after key/value pair"+z(" at "))))}}return e})(),u=(()=>{if(On){let e=On;const t=xn,n=Tn;return Tn=[],()=>{do{t(n[--e]),n.length=e}while(e)}}return null})()}finally{V()}}finally{xn=null,Tn.length=On=0,Pt=!1,Xt=null}}finally{E()}}finally{yr=!1}return u?.(),c},mr=n(((e,t,n,i,r)=>"number"==typeof t?wr(e,t,n,i,r):wr(e,1,t,n,i)),{"1.0":(e,t,n,i)=>wr(e,.1,t,n,i),1:(e,t,n,i)=>wr(e,1,t,n,i),.5:(e,t,n,i)=>wr(e,.5,t,n,i),.4:(e,t,n,i)=>wr(e,.4,t,n,i),.3:(e,t,n,i)=>wr(e,.3,t,n,i),.2:(e,t,n,i)=>wr(e,.2,t,n,i),.1:(e,t,n,i)=>wr(e,.1,t,n,i)}),xr=Object.getOwnPropertyNames,Tr=Number.MAX_SAFE_INTEGER,Or=Boolean,vr=String,Ir=Number,Sr=new re,$r=se.bind(Sr),Lr=ae.bind(Sr),Fr=ue({...de([...m(32)].map(((e,t)=>[w(t),"\\u"+t.toString(16).toUpperCase().padStart(4,"0")]))),"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"','"""':'""\\"',"\\":"\\\\","":"\\u007F"}),kr=(()=>k(/[\x00-\x08\x0A-\x1F'\x7F]/).test)(),Mr=/[^\x00-\x08\x0A-\x1F"\\\x7F]+|./gs,Ur=(()=>k(/^[\x00-\x08\x0A-\x1F"\\\x7F]/).test)(),Ar=e=>`'${e}'`,Br=e=>{if(kr(e)){const t=e.match(Mr);let n=t.length;do{Ur(t[--n])&&(t[n]=Fr[t[n]])}while(n);return`"${t.join("")}"`}return`'${e}'`},Dr=(()=>k(/[\x00-\x08\x0A-\x1F\x7F]|'''/).test)(),jr=(()=>k(/[\x00-\x08\x0A-\x1F\\\x7F]|"""/).test)(),Cr=/[^\x00-\x08\x0A-\x1F"\\\x7F]+|"""|./gs,_r=(()=>k(/^(?:[\x00-\x08\x0A-\x1F\\\x7F]|""")/).test)(),Nr=(e,t)=>{const n=e[t];if(jr(n)){const i=n.match(Cr);let r=i.length;do{_r(i[--r])&&(i[r]=Fr[i[r]])}while(r);e[t]=i.join("")}},Er=e=>(1===(e=["",...e]).length&&(e[1]=""),e),Pr=e=>{const t=e.length-1;let n=t;do{if(Dr(e[n]))break}while(--n);if(n)for(n=t,Nr(e,n),e[n]+=e[0]='"""';--n;)Nr(e,n);else e[t]+=e[0]="'''";return Lr(e),e},Kr=(()=>k(/^-?\d+$/).test)(),Rr=(()=>k(/^[\w-]+$/).test)(),Wr=e=>Rr(e)?e:Br(e),qr=/[^.]+/,Hr=e=>Nt(e)?e.replace(qr,Ar):"null"===e?"'null'":e;class Yr extends m{document;constructor(e){return super(),this.document=e,this}[Symbol.toPrimitive](){return this.join(this.document.newline)}appendNewline(){this[this.length]=""}set appendLine(e){this[this.length]=e}set appendInline(e){this[this.length-1]+=e}set appendInlineIf(e){e&&(this[this.length-1]+=e)}*assignBlock(e,t,n,i){const{document:r}=this,{newlineUnderHeader:s,newlineUnderSectionButPair:a}=r,l=!!t&&r.newlineUnderPairButDotted,o=t?r.newlineUnderDotted:r.newlineUnderPair;for(const c of i){const i=n[c],u=Wr(c),f=e+u;if(b(i)){if(i.length&&je(i[0])){const e=`[[${f}]]`,t=f+".";for(const n of i){const i=r.appendSection();i[0]=e,s?(i[1]="",yield i.assignBlock(t,"",n,xr(n)),a&&2!==i.length&&i.appendNewline()):(yield i.assignBlock(t,"",n,xr(n)),a&&i.appendNewline())}continue}}else if(je(i)){const e=r.appendSection();e[0]=`[${f}]${ir(n,c)}`,s?(e[1]="",yield e.assignBlock(f+".","",i,xr(i)),a&&2!==e.length&&e.appendNewline()):(yield e.assignBlock(f+".","",i,xr(i)),a&&e.appendNewline());continue}const h=t+u;this.appendLine=Hr(h)+" = ";const d=this.value("",i,xr);d?(--this.length,yield this.assignBlock(f+".",h+".",i,d),l&&this.appendNewline()):(this.appendInlineIf=ir(n,c),o&&this.appendNewline())}}value(e,n,r){switch(typeof n){case"object":if(null===n){if(this.document.nullDisabled)throw t('toml can not stringify "null" type value without truthy options.xNull');this.appendInline="null";break}if($r(n)){const{length:e}=n;this.appendInline=n[0];let t=1;for(;t!==e;)this.appendLine=n[t++];break}const s=Be(n);if(b(n)){s?this.singlelineArray(e,n):this.staticArray(e,n);break}if(s!==i){s||this.document.multilineTableDisabled?this.inlineTable(e,n):this.multilineTable(e,n,this.document.multilineTableComma);break}if(n instanceof jn){this.appendInline=this.document._?n.toISOString().replace("T"," "):n.toISOString();break}if(n instanceof vr)throw t("TOML.stringify refuse to handle [object String]");if(r){const e=r(n);if(e.length)return e;this.appendInline="{ }";break}if(n instanceof X)throw t("TOML.stringify refuse to handle [object BigInt]");if(n instanceof Ir)throw t("TOML.stringify refuse to handle [object Number]");if(n instanceof Or)throw t("TOML.stringify refuse to handle [object Boolean]");if(n instanceof Qi)throw t("TOML.stringify refuse to handle [object Symbol]");this.inlineTable(e,n);break;case"bigint":this.appendInline=""+n;break;case"number":this.appendInline=this.document.asInteger(n)?fe(n,-0)?"-0":""+n:(e=>{return e?e===y?"inf":e===-1/0?"-inf":Kr(t=""+e)?t+".0":t:e==e?fe(e,0)?"0.0":"-0.0":"nan";var t})(n);break;case"string":this.appendInline=Br(n);break;case"boolean":this.appendInline=n?"true":"false";break;default:throw t(`toml can not stringify "${typeof n}" type value`)}return null}singlelineArray(e,t){const{length:n}=t;if(n){this.appendInline="[ ",this.value(e,t[0]);let i=1;for(;i!==n;)this.appendInline=", ",this.value(e,t[i++]);this.appendInline=" ]"}else this.appendInline="[ ]"}staticArray(e,t){this.appendInline="[";const n=e+this.document.indent;for(const i of t)this.appendLine=n,this.value(n,i),this.appendInline=",";this.appendLine=e+"]"}inlineTable(e,t){const n=xr(t);n.length?(this.appendInline="{ ",this.assignInline(e,t,"",n),this[this.length-1]=this[this.length-1].slice(0,-2)+" }"):this.appendInline="{ }"}multilineTable(e,t,n){this.appendInline="{",this.assignMultiline(e,t,"",xr(t),n),this.appendLine=e+"}"}assignInline(e,t,n,i){for(const r of i){const i=t[r],s=n+Wr(r),a=this.appendInline=Hr(s)+" = ",l=this.value(e,i,xr);l?(this[this.length-1]=this[this.length-1].slice(0,-a.length),this.assignInline(e,i,s+".",l)):this.appendInline=", "}}assignMultiline(e,t,n,i,r){const s=e+this.document.indent;for(const a of i){const i=t[a],l=n+Wr(a);this.appendLine=s+Hr(l)+" = ";const o=this.value(s,i,xr);o?(--this.length,this.assignMultiline(e,i,l+".",o,r)):r?this.appendInline=","+ir(t,a):this.appendInlineIf=ir(t,a)}}}const Jr=ue({document:0,section:1,header:2,pairs:3,pair:4}),Zr=(()=>k(/^[\t ]*$/).test)(),zr=()=>!1;class Vr extends m{get["constructor"](){return m}0=new Yr(this);asInteger;newline;newlineUnderSection;newlineUnderSectionButPair;newlineUnderHeader;newlineUnderPair;newlineUnderPairButDotted;newlineUnderDotted;indent;_;nullDisabled;multilineTableDisabled;multilineTableComma;constructor(e){super();const n=e?.integer;if(void 0===n)this.asInteger=zr;else if(n===Tr)this.asInteger=ne;else{if("number"!=typeof n)throw t("TOML.stringify(,{integer}) can only be number");{if(!ne(n))throw G("TOML.stringify(,{integer}) can only be a safe integer");const e=n>=0?n:-n-1,t=n>=0?-n:n;this.asInteger=n=>ne(n)&&t<=n&&n<=e}}const i=e?.newline;if(void 0!==i&&"\n"!==i&&"\r\n"!==i)throw"string"==typeof i?l("TOML.stringify(,{newline}) can only be valid TOML newline"):t("TOML.stringify(,{newline}) can only be string");this.newline=i??"";const r=Jr[e?.newlineAround??"header"]??Jr.header;this.newlineUnderSection=r>0,this.newlineUnderSectionButPair=1===r||2===r,this.newlineUnderHeader=r>1,this.newlineUnderPair=r>2,this.newlineUnderPairButDotted=3===r,this.newlineUnderDotted=r>3;const s=e?.indent;if(void 0===s)this.indent="\t";else if("string"==typeof s){if(!Zr(s))throw l("TOML.stringify(,{indent}) can only include Tab or Space");this.indent=s}else{if("number"!=typeof s)throw t(`TOML.stringify(,{indent}) can not be "${typeof s}" type`);if(!ne(s))throw G(`TOML.stringify(,{indent:${s}}) is out of range`);this.indent=" ".repeat(s)}this._=" "===e?.T,this.nullDisabled=!e?.xNull;const a=e?.xBeforeNewlineInMultilineTable;return""===a?(this.multilineTableDisabled=!1,this.multilineTableComma=!1):","===a?(this.multilineTableDisabled=!1,this.multilineTableComma=!0):(this.multilineTableDisabled=!0,this.multilineTableComma=!0),this}appendSection(){return this[this.length]=new Yr(this)}}return $({version:"1.22.0",parse:mr,stringify:(e,t)=>{const n=new Vr(t),i=n[0];return i[0]="",Ln(i.assignBlock("","",e,xr(e))),n.newlineUnderSectionButPair&&1!==i.length&&i.appendNewline(),n.newlineUnderSection||n[n.length-1].appendNewline(),n.newline?n.join(n.newline):n.flat()},Section:e=>{if(b(e))throw t("array can not be section, maybe you want to use it on the tables in it");return Ce(e),Me(e),e},inline:e=>(De(e,!0),b(e)||Ue(e),e),multiline:(()=>{const e=e=>"string"==typeof e?Pr(("\n"+e).split("\n")):b(e)?Pr(Er(e)):(e=>(De(e,!1),Ue(e),e))(e);return e.basic=e=>(e=>{let t=e.length-1;for(Nr(e,t),e[t]+=e[0]='"""';--t;)Nr(e,t);return Lr(e),e})("string"==typeof e?("\n"+e).split("\n"):Er(e)),c(e),e})(),literal:(e,...t)=>{if("string"!=typeof e){let n=t.length;if(n){const{raw:i}=e;for(e=i[n];n;)t[--n]+=i[n];e=t.join("")+e}else e=e.raw[0]}const n=e.split("\n");return Lr(n),n},commentFor:tr,OffsetDateTime:fi,LocalDateTime:bi,LocalDate:Ti,LocalTime:$i,isInline:Ae,isSection:je})}));
//# sourceMappingURL=j-toml.min.js.map